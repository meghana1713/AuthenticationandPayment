<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css
    "/>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js
    "></script>
</head>
<body>
    <button id="logout" style="display: none">logout</button>
    <!-- <form>
        <div class="mb-3">
          <label for="exampleInputEmail1" class="form-label">Email address</label>
          <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp">
          <div id="emailHelp" class="form-text">We'll never share your email with anyone else.</div>
        </div>
        <div class="mb-3">
          <label for="exampleInputPassword1" class="form-label">Password</label>
          <input type="password" class="form-control" id="exampleInputPassword1">
        </div>
        
      </form> -->
      <button type="button" id="button" class="btn btn-primary">sign in</button>

    
</body>
</html>
<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-app.js";
    import { getAuth, signInWithPopup, GoogleAuthProvider,signOut } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-auth.js";
    import {
    getDatabase,
    ref,
    set,
  } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-database.js";

  // Your web app's Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyB3VyGNFgP_bhLwyQQ2B3g7WjC0Ctk4cLI",
  authDomain: "webauthentication-5f6fd.firebaseapp.com",
  databaseURL: "https://webauthentication-5f6fd-default-rtdb.firebaseio.com",
  projectId: "webauthentication-5f6fd",
  storageBucket: "webauthentication-5f6fd.appspot.com",
  messagingSenderId: "59807012909",
  appId: "1:59807012909:web:fcb68661622ab02786c0a4"
  };

  // new registration code start ..............

  // for database methods

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const provider = new GoogleAuthProvider();
  const auth = getAuth(app);
  document.getElementById("button").addEventListener("click",function(){

    signInWithPopup(auth, provider)
  .then((result) => {
    // This gives you a Google Access Token. You can use it to access the Google API.
    const credential = GoogleAuthProvider.credentialFromResult(result);
    const token = credential.accessToken;//as same as userid token will be unique identifier which is the gobimnation of is user details by gembiling those charaters
    // The signed-in user info.
    const user = result.user;
    // IdP data available using getAdditionalUserInfo(result)
    console.log(user);
    document.getElementById("logout").style.display="block";
    alert("registered")
  }).catch((error) => {
    // Handle Errors here.
    const errorCode = error.code;
    const errorMessage = error.message;
    // The email of the user's account used.
    const email = error.customData.email;
    // The AuthCredential type that was used.
    const credential = GoogleAuthProvider.credentialFromError(error);
    // ...
  });
  });
document.getElementById("logout").addEventListener("click",function(){

signOut(auth).then(() => {
    alert("logout sucessfully");
    document.getElementById("logout").style.display="none";
  // Sign-out successful.
}).catch((error) => {
  // An error happened.
});

})


</script>